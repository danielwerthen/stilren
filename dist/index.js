var e,t=require("@dwerthen/react-extension"),r=(e=require("react"))&&"object"==typeof e&&"default"in e?e.default:e,n=require("styletron-standard");function i(e){return Reflect.getPrototypeOf(e).constructor.name}var o={},u=function(e,t){var r="stil-ren-modifier:"+i(this)+"+"+e,n=o[r];if(this.value=e,this.type=t,n)return n;o[r]=this};u.prototype.canCombine=function(e){return!1},u.prototype.combine=function(e){throw new Error("Cannot combine with "+i(e))},u.prototype.getKey=function(){return this.value},u.prototype.toString=function(){return this.getKey()},u.combineModifiers=function(e){return e.reduce(function(e,t){var r=e[e.length-1];return r&&r.canCombine(t)?e.slice(0,e.length-1).concat([r.combine(t)]):e.concat([t])},[])};var a=function(e){function t(t){e.call(this,t,"prefix")}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.canCombine=function(e){return e instanceof t},t.prototype.combine=function(e){return this===e?e:new t((this.value<e.value?this:e).value+" or "+(this.value<e.value?e:this).value)},t.prototype.getKey=function(){return"@media "+this.value},t}(u),s=function(e){function t(t){e.call(this,t,"suffix")}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.canCombine=function(e){return e instanceof t},t.prototype.combine=function(e){return this===e?e:new t((this.value<e.value?this:e).value+":"+(this.value<e.value?e:this).value)},t.prototype.getKey=function(){return":"+this.value},t}(u);function c(e,t){if(!(e instanceof u))throw new Error("Cannot get branch of unknown modifier");var r=e.getKey();return t[r]||(t[r]={}),t[r]}var l=function(e){void 0===e&&(e={}),this.props=e};l.prototype.set=function(e,t,r){r.reduce(function(e,t){return c(t,e)},this.props)[e]=t},l.prototype.getNode=function(e){if(e.length<1)return this;var t=e.reduce(function(e,t){return c(t,e)},this.props);return new l(t)};var f={Active:"active",Checked:"checked",Default:"default",Disabled:"disabled",Empty:"empty",Enabled:"enabled",First:"first",FirstChild:"first-child",FirstOfType:"first-of-type",Fullscreen:"fullscreen",Focus:"focus",Hover:"hover",Indeterminate:"indeterminate",InRange:"in-range",Invalid:"invalid",LastChild:"last-child",LastOfType:"last-of-type",Link:"link",OnlyChild:"only-child",OnlyOfType:"only-of-type",Optional:"optional",OutOfRange:"out-of-range",ReadOnly:"read-only",ReadWrite:"read-write",Required:"required",Scope:"scope",Target:"target",Valid:"valid",Visited:"visited"};function p(e){var t=e.mediaPrefixes;void 0===t&&(t={});var r=e.pseudoSuffixes;void 0===r&&(r=f);var i,o,c,p,d,v,h=e.styletron,y=(i=Object.keys(t).reduce(function(e,r){var n;return Object.assign({},e,((n={})[r]=new a(t[r]),n))},{}),o=Object.keys(r).reduce(function(e,t){var n;return Object.assign({},e,((n={})[t]=new s(r[t]),n))},{}),d=Object.keys(i),v=Object.keys(o),c=function(e){var t=function e(t){var r=d.find(function(e){return t.length>e.length&&(r=t[e.length])!==r.toLowerCase()&&r===r.toUpperCase()&&t.startsWith(e);var r});if(r){var n=i[r],o=e(t[r.length].toLowerCase()+t.slice(r.length+1));return[o[0],o[1].concat([n])]}return[t,[]]}(e),r=t[1],n=function e(t){var r=v.find(function(e){return t.length>e.length&&t.endsWith(e)});if(r){var n=o[r],i=e(t.substring(0,t.length-r.length));return[i[0],i[1].concat([n])]}return[t,[]]}(t[0]);return[n[0],u.combineModifiers(r.concat(n[1]))]},p={},function(e){return p[e]||(p[e]=c(e)),p[e]});return function(e){var t=new l;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=y(r);t.set(o[0],i,o[1])}var u=n.renderDeclarativeRules(t.props,h);return h.renderStyle(u)}}var d=function(){return""},v=r.createContext({renderStyle:d}),h=v.Consumer;function y(e,t){return void 0===t&&(t="$"),function(r,n){var i={},o={},u=!1;for(var a in n)n.hasOwnProperty(a)&&(a.startsWith(t)?(o[a.substr(1)]=n[a],u=!0):i[a]=n[a]);if(u){var s=e(o);i.className=i.className?i.className+" "+s:s}return i}}exports.createRenderStyle=p,exports.stilrenContext=v,exports.StilrenProvider=function(e){var n=e.mediaPrefixes,i=e.pseudoSuffixes,o=e.styletron,u=e.propPrefix;void 0===u&&(u="$");var a=e.children,s=r.useMemo(function(){return p({styletron:o,mediaPrefixes:n,pseudoSuffixes:i})},[]),c=r.useMemo(function(){return y(s,u)},[s]),l=r.useMemo(function(){return{renderStyle:s}},[s]);return t.originalCreateElement(v.Provider,{value:l},t.originalCreateElement(t.ExtensionProvider,{value:c},a))},exports.StilrenConsumer=h,exports.useStilren=function(e){var t=r.useContext(v).renderStyle;return t===d&&console.warn("Stilren Provider must be initialized with a renderStyle"),t(e)},exports.createExtender=y;
//# sourceMappingURL=index.js.map
