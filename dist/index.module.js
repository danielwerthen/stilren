import{ExtensionProvider as e,originalCreateElement as t}from"@dwerthen/react-extension";import n from"react";import{renderDeclarativeRules as r}from"styletron-standard";function i(e){return Reflect.getPrototypeOf(e).constructor.name}var o={},u=function(e,t){var n="stil-ren-modifier:"+i(this)+"+"+e,r=o[n];if(this.value=e,this.type=t,r)return r;o[n]=this};u.prototype.canCombine=function(e){return!1},u.prototype.combine=function(e){throw new Error("Cannot combine with "+i(e))},u.prototype.getKey=function(){return this.value},u.prototype.toString=function(){return this.getKey()},u.combineModifiers=function(e){return e.reduce(function(e,t){var n=e[e.length-1];return n&&n.canCombine(t)?e.slice(0,e.length-1).concat([n.combine(t)]):e.concat([t])},[])};var a=function(e){function t(t){e.call(this,t,"prefix")}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.canCombine=function(e){return e instanceof t},t.prototype.combine=function(e){return this===e?e:new t((this.value<e.value?this:e).value+" or "+(this.value<e.value?e:this).value)},t.prototype.getKey=function(){return"@media "+this.value},t}(u),c=function(e){function t(t){e.call(this,t,"suffix")}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.canCombine=function(e){return e instanceof t},t.prototype.combine=function(e){return this===e?e:new t((this.value<e.value?this:e).value+":"+(this.value<e.value?e:this).value)},t.prototype.getKey=function(){return":"+this.value},t}(u);function s(e,t){if(!(e instanceof u))throw new Error("Cannot get branch of unknown modifier");var n=e.getKey();return t[n]||(t[n]={}),t[n]}var f=function(e){void 0===e&&(e={}),this.props=e};f.prototype.set=function(e,t,n){n.reduce(function(e,t){return s(t,e)},this.props)[e]=t},f.prototype.getNode=function(e){if(e.length<1)return this;var t=e.reduce(function(e,t){return s(t,e)},this.props);return new f(t)};var l={Active:":active",Checked:":checked",Default:":default",Disabled:":disabled",Empty:":empty",Enabled:":enabled",First:":first",FirstChild:":first-child",FirstOfType:":first-of-type",Fullscreen:":fullscreen",Focus:":focus",Hover:":hover",Indeterminate:":indeterminate",InRange:":in-range",Invalid:":invalid",LastChild:":last-child",LastOfType:":last-of-type",Link:":link",OnlyChild:":only-child",OnlyOfType:":only-of-type",Optional:":optional",OutOfRange:":out-of-range",ReadOnly:":read-only",ReadWrite:":read-write",Required:":required",Scope:":scope",Target:":target",Valid:":valid",Visited:":visited"},p=Object.keys(process.env).filter(function(e){return e.startsWith("npm_package_stilren_mediaPrefixes")}).reduce(function(e,t){var n,r=t.replace("npm_package_stilren_mediaPrefixes_","");return Object.assign(e,((n={})[r]=process.env[t],n))},{});function d(e){var t=e.mediaPrefixes;void 0===t&&(t=p);var n=e.pseudoSuffixes;void 0===n&&(n=l);var i,o,s,d,v,h,y=e.styletron,m=(i=Object.keys(t).reduce(function(e,n){var r;return Object.assign({},e,((r={})[n]=new a(t[n]),r))},{}),o=Object.keys(n).reduce(function(e,t){var r;return Object.assign({},e,((r={})[t]=new c(n[t]),r))},{}),v=Object.keys(i),h=Object.keys(o),s=function(e){var t=function e(t){var n=v.find(function(e){return t.length>e.length&&(n=t[e.length])!==n.toLowerCase()&&n===n.toUpperCase()&&t.startsWith(e);var n});if(n){var r=i[n],o=e(t[n.length].toLowerCase()+t.slice(n.length+1));return[o[0],o[1].concat([r])]}return[t,[]]}(e),n=t[1],r=function e(t){var n=h.find(function(e){return t.length>e.length&&t.endsWith(e)});if(n){var r=o[n],i=e(t.substring(0,t.length-n.length));return[i[0],i[1].concat([r])]}return[t,[]]}(t[0]);return[r[0],u.combineModifiers(n.concat(r[1]))]},d={},function(e){return d[e]||(d[e]=s(e)),d[e]});return function(e){var t=new f;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n],o=m(n);t.set(o[0],i,o[1])}var u=r(t.props,y);return y.renderStyle(u)}}var v=function(){return""},h=n.createContext({renderStyle:v});function y(r){var i=r.mediaPrefixes,o=r.pseudoSuffixes,u=r.styletron,a=r.propPrefix;void 0===a&&(a="$");var c=r.children,s=n.useMemo(function(){return d({styletron:u,mediaPrefixes:i,pseudoSuffixes:o})},[]),f=n.useMemo(function(){return b(s,a)},[s]),l=n.useMemo(function(){return{renderStyle:s}},[s]);return t(h.Provider,{value:l},t(e,{value:f},c))}var m=h.Consumer;function g(e){var t=n.useContext(h).renderStyle;return t===v&&console.warn("Stilren Provider must be initialized with a renderStyle"),t(e)}function b(e,t){return void 0===t&&(t="$"),function(n,r){var i={},o={},u=!1;for(var a in r)r.hasOwnProperty(a)&&(a.startsWith(t)?(o[a.substr(1)]=r[a],u=!0):i[a]=r[a]);if(u){var c=e(o);i.className=i.className?i.className+" "+c:c}return i}}export{d as createRenderStyle,h as stilrenContext,y as StilrenProvider,m as StilrenConsumer,g as useStilren,b as createExtender};
//# sourceMappingURL=index.module.js.map
